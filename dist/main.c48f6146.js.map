{"version":3,"sources":["src/js/classes.js","src/js/request.js","src/js/drag.js","src/js/visit.js","src/js/filter.js","src/js/form.js","src/js/modal.js","src/js/main.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Textarea","typeOfTextarea","e","document","createElement","classList","setAttribute","Button","typeOfButton","innerText","Input","typeOfInput","inputLabel","append","add","checkAgeBound","checkAge","bind","addEventListener","value","alert","Select","typeOfSelect","insertAdjacentHTML","onDoctorSelectBound","onDoctorSelect","selectedIndex","querySelector","options","selectedOption","createVisitForm","children","length","removeChild","lastChild","Form","InputFieldTitle","fieldName","Request","typeOfRequest","data","id","login","post","put","delete","getAllVisits","fetch","method","headers","body","JSON","stringify","then","ok","errorNote","style","visibility","opacity","Error","response","text","localStorage","getItem","json","DragAndDrop","box","main","dragging","Math","max","scrollHeight","documentElement","offsetHeight","clientHeight","width","offsetWidth","height","elem","currentElem","left","getBoundingClientRect","top","event","target","closest","mouseMove","checkedCards","ondragstart","onmousemove","currentHeight","size","position","pageX","pageY","scrollTop","getCoords","pageYOffset","pageXOffset","Visit","visit","age","purposeOfVisit","bloodPressure","bodyMassIndex","pastDiseases","shortDiscriptionsOfVisit","urgency","dateOfPreviousVisit","container","visitIdContainer","fullName","innerHTML","doctor","showMoreBtn","showMoreBound","showMore","showLessBtn","showLessBound","showLess","editPanel","editVisitIcon","enableEditModeBound","enableEditMode","removeVisitIcon","removeVisitBound","removeVisit","remove","Modal","pastIllnesses","destroy","catch","error","console","noVisitsNotice","visitsContainer","forEach","VisitCardiologist","VisitDentist","VisitTherapist","drag","mouseDown","mouseUp","render","extraInfo","before","Filter","searchContainer","getVisitsData","createSearchInput","createUrgencySelect","input","type","placeholder","urgencySelect","urgencyTitle","el","selectOption","Promise","resolve","reject","filter","filterByUrgency","allVisits","visitsArray","inputedValue","trim","inputedData","RegExp","inputedId","search","inputedName","inputedDoctor","push","renderAllVisits","preventDefault","stopPropagation","filteredUrgencyArray","currentTarget","typeOfForm","mailInput","passwordInput","loginButton","className","formData","FormData","Object","fromEntries","token","log","signIn","display","createVisit","setItem","modal","filterShow","reset","select","inputPurpose","shortDescription","editVisitModalBtn","onEditVisitClickBound","onEditVisitClick","inputDateOfPrevVisit","_onEditVisitClickBound","createVisitModalBtn","CreateVisitClickBound","onCreateVisit","selectedDoctor","selectedUrgency","updateValue","typeOfModal","modalContainer","tabinde","modalContent","modalHeader","modalButtonClose","modalBody","removeModalBound","removeModal","titleHeader","loginForm","editVisitForm","prepend","removeEventListener","createContent","header","a","href","after","mainContainer","sectionFilter","divFilter","sectionVisits","divVisits","window","onload","filterHide","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","appendChild","getElementById","stackTrace","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"main.c48f6146.js","sourceRoot":"..","sourcesContent":["import Form from \"./form\"\n\nexport class Textarea {\n    constructor(typeOfTextarea) {\n        this.e = document.createElement(\"textarea\");\n        if (typeOfTextarea === \"shortDiscriptionsOfVisit\") {\n            this.e.classList = \"textarea\";\n            this.e.setAttribute(\"name\", \"shortDiscriptionsOfVisit\");\n            this.e.setAttribute(\"placeholder\", \"Краткое описание визита\");\n            return this.e;\n        }\n        if (typeOfTextarea === \"pastDiseases\") {\n            this.e.classList = \"textarea\";\n            this.e.setAttribute(\"name\", \"pastDiseases\");\n            this.e.setAttribute(\"placeholder\", \"Перенесенные заболевания сердечно-сосудистой системы\");\n            this.e.setAttribute(\"required\", \"required\");\n            return this.e;\n        }\n    }\n}\n\nexport class Button {\n    constructor(typeOfButton) {\n        this.e = document.createElement(\"button\");\n\n        if (typeOfButton === \"login\") {\n            this.e.classList = \"login-btn\";\n            this.e.setAttribute(\"type\", \"submit\");\n            this.e.innerText = \"Войти\";\n\n            return this.e;\n        }\n\n        if (typeOfButton === \"createVisitModalBtn\") {\n\n            this.e.classList = \"create-visit-modal-btn\";\n            this.e.setAttribute(\"type\", \"submit\");\n            this.e.innerText = \"Создать\";\n            \n            return this.e;\n        }\n\n        if (typeOfButton === \"editVisitModalBtn\") {\n\n            this.e.classList = \"edit-visit-modal-btn\";\n            this.e.setAttribute(\"type\", \"submit\");\n            this.e.innerText = \"Редактировать\";\n            \n            return this.e;\n        }\n\n        // if (typeOfButton === \"signIn\") {\n\n        //     this.e.classList = \"btn_sign_in\"\n        //     this.e.innerHTML = \"Sign in\"\n\n        //     return this.e;\n        // }\n    }\n}\n\nexport  class Input {\n    constructor(typeOfInput) {\n        this.e = document.createElement('input');\n        if (typeOfInput === \"email\") {\n            this.e.setAttribute(\"type\", \"text\");\n            this.e.setAttribute(\"name\", \"email\");\n            this.e.setAttribute(\"id\", \"email\");\n            this.e.classList = \"email-input\";\n            this.e.setAttribute(\"required\", \"required\");\n            this.inputLabel = document.createElement(\"label\");\n            this.inputLabel.classList = \"input-label\";\n            this.inputLabel.innerText = \"E-mail\";\n            this.inputLabel.append(this.e);\n\n            return this.inputLabel;\n        }\n\n        if (typeOfInput === \"password\") {\n            this.e.setAttribute(\"type\", \"password\");\n            this.e.setAttribute(\"name\", \"password\");\n            this.e.setAttribute(\"id\", \"password\");\n            this.e.classList.add(\"password-input\");\n            this.e.setAttribute(\"required\", \"required\");\n            this.inputLabel = document.createElement(\"label\");\n            this.inputLabel.classList.add(\"input-label\");\n            this.inputLabel.innerText = \"Password\";\n            this.inputLabel.append(this.e);\n\n            return this.inputLabel;\n        }\n\n        if (typeOfInput === \"fullName\") {\n            this.e.setAttribute(\"type\", \"text\");\n            this.e.setAttribute(\"name\", \"fullName\");\n            this.e.setAttribute(\"required\", \"required\");\n            this.e.setAttribute(\"placeholder\", \"ФИО\");\n            this.e.classList.add(\"one-line-input\");\n\n            return this.e;\n        }\n\n        if (typeOfInput === \"age\") {\n            this.e.setAttribute(\"type\", \"number\");\n            this.e.setAttribute(\"name\", \"age\");\n            this.e.setAttribute(\"required\", \"required\");\n            this.e.setAttribute(\"placeholder\", \"Возраст\");\n            this.e.classList.add(\"one-line-input\");\n            \n\n            this.checkAgeBound = this.checkAge.bind(this);\n            this.e.addEventListener(\"focusout\", this.checkAgeBound);\n\n            return this.e;\n        }\n\n        if (typeOfInput === \"purposeOfVisit\") {\n            this.e.setAttribute(\"type\", \"text\");\n            this.e.setAttribute(\"name\", \"purposeOfVisit\");\n            this.e.setAttribute(\"required\", \"required\");\n            this.e.setAttribute(\"placeholder\", \"Цель визита\");\n            this.e.classList.add(\"one-line-input\");\n\n            return this.e;\n        }\n\n        if (typeOfInput === \"bloodPressure\") {\n            this.e.setAttribute(\"type\", \"text\");\n            this.e.setAttribute(\"name\", \"bloodPressure\");\n            this.e.setAttribute(\"required\", \"required\");\n            this.e.setAttribute(\"placeholder\", \"Обычное давление\");\n            this.e.classList.add(\"one-line-input\");\n\n            return this.e;\n        }\n\n        if (typeOfInput === \"bodyMassIndex\") {\n            this.e.setAttribute(\"type\", \"text\");\n            this.e.setAttribute(\"name\", \"bodyMassIndex\");\n            this.e.setAttribute(\"required\", \"required\");\n            this.e.setAttribute(\"placeholder\", \"Индекс массы тела\");\n            this.e.classList.add(\"one-line-input\");\n\n            return this.e;\n        }\n\n        if (typeOfInput === \"dateOfPreviousVisit\") {\n            this.e.setAttribute(\"type\", \"text\");\n            this.e.setAttribute(\"name\", \"dateOfPreviousVisit\");\n            this.e.setAttribute(\"required\", \"required\");\n            this.e.setAttribute(\"placeholder\", \"Дата последнего визита\");\n            this.e.classList.add(\"one-line-input\");\n\n            return this.e;\n        }\n    }\n\n    checkAge() {\n        if (this.e.value < 5)  {\n            alert(\"Возраст должен быть не меньше 5 лет\");\n            this.e.value = \"\";\n        } else if (this.e.value > 100) {\n            alert(\"Возраст должен быть не больше 100 лет\");\n            this.e.value = \"\";\n        }\n    }\n}\n\nexport class Select {\n    constructor(typeOfSelect) {\n        if (typeOfSelect === \"doctor\") {\n            this.e = document.createElement(\"select\");\n            this.e.classList = \"doctor-select\";\n            this.e.setAttribute(\"required\", \"required\");\n            this.e.insertAdjacentHTML(\"afterbegin\",\n                `<option selected disabled value=\"\">Доктор</option>\n                 <option>Cardiologist</option>\n                 <option>Dentist</option>\n                 <option>Therapist</option>`)\n                 this.onDoctorSelectBound = this.onDoctorSelect.bind(this);\n                 this.e.addEventListener(\"change\", this.onDoctorSelectBound);\n\n                 return this.e;\n        } \n        \n        if (typeOfSelect === \"urgency\") {\n            this.e = document.createElement(\"select\");\n            this.e.classList = \"urgency-select\";\n            this.e.setAttribute(\"required\", \"required\");\n            this.e.insertAdjacentHTML(\"afterbegin\",\n                `<option selected disabled value=\"\">Срочность</option>\n                 <option>Regular</option>\n                 <option>Priority</option>\n                 <option>Urgent</option>\n            `)\n\n            return this.e;\n        }\n    }\n    onDoctorSelect() {\n        let selectedIndex = document.querySelector(\".doctor-select\").selectedIndex;\n        let options = document.querySelector(\".doctor-select\").options;\n        let selectedOption = options[selectedIndex].value;\n\n        let createVisitForm = document.querySelector('.createVisit-form');\n\n        while (createVisitForm.children.length > 2) {\n            createVisitForm.removeChild(createVisitForm.lastChild);\n        }\n\n        switch (selectedOption) {\n            case \"Cardiologist\":\n                new Form(\"doctorCardiologist\");\n                break;\n            case \"Dentist\":\n                new Form(\"doctorDentist\");\n                break;\n            case \"Therapist\":\n                new Form(\"doctorTherapist\");\n                break;\n\n        }\n    }\n}\n\nexport class InputFieldTitle {\n    constructor(fieldName) {\n        this.e = document.createElement(\"span\");\n        this.e.classList.add(\"field-name\");\n        this.e.innerText = fieldName;\n        return this.e;\n    }\n}\n","export default class Request {\n    constructor(typeOfRequest, data, id) {\n        if (typeOfRequest === \"login\") {\n            return this.login(data);\n        }\n\n        if (typeOfRequest === \"post\") {\n            return this.post(data);\n        }\n\n        if (typeOfRequest === \"put\") {\n            return this.put(data,id);\n        }\n\n        if (typeOfRequest === \"delete\") {\n            return this.delete(data,id);\n        }\n\n\n        if (typeOfRequest === \"getAllVisits\") {\n            return this.getAllVisits();\n        }\n\n    }\n\n    login(data) {\n        return fetch('https://ajax.test-danit.com/api/v2/cards/login', {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        })\n        .then(data => {\n            if(!data.ok) {\n                let errorNote = document.querySelector(\".error-note\");\n                errorNote.style.visibility = 'visible';\n                errorNote.style.opacity = \"1\";\n                throw new Error(\"Wrong email or password\");\n            } else {\n                return data;\n            }})\n        .then(response => response.text())\n        // .then(token => console.log(token))\n    }\n\n    post(data) {\n        return fetch('https://ajax.test-danit.com/api/v2/cards', {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            },\n            body: JSON.stringify(data)\n        })\n        .then(response => response);\n    }\n\n    put(data,id) {\n        return fetch('https://ajax.test-danit.com/api/v2/cards'+ id, {\n            method: \"PUT\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            },\n            body: JSON.stringify(data)\n        })\n    }\n\n    delete(data,id) {\n        return fetch('https://ajax.test-danit.com/api/v2/cards/'+ id, {\n            method: \"DELETE\",\n            // mode: \"no-cors\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n    }\n\n    getAllVisits(){\n        return fetch('https://ajax.test-danit.com/api/v2/cards', {\n            method: \"GET\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then((response) => {\n            return response.json();\n        })\n    }\n\n}\n\n\n\n\n","export default class DragAndDrop {\n    constructor(box, main) {\n        this.box = document.querySelector(box);\n        this.dragging = false;\n        this.main = main;\n    }\n\n    get scrollHeight() {\n        return Math.max(\n        document.body.scrollHeight, document.documentElement.scrollHeight,\n        document.body.offsetHeight, document.documentElement.offsetHeight,\n        document.body.clientHeight, document.documentElement.clientHeight\n        );\n    }\n\n    get size() {\n        return {\n        box: {\n            width: document.documentElement.offsetWidth,\n            height: this.scrollHeight\n        },\n        elem: {\n            width: this.currentElem.offsetWidth,\n            height: this.currentElem.offsetHeight\n        }\n        }\n    }\n\n    get data() {\n        return {\n        left: this.currentElem.getBoundingClientRect().left,\n        top: this.currentElem.getBoundingClientRect().top\n        }\n    }\n\n    checkedCards(event) {\n        const target = event.target;\n\n        this.currentElem = target.closest(this.main);\n\n        if(!this.currentElem) return;\n        this.mouseMove();\n    }\n\n    mouseDown(event) {\n        this.dragging = true;\n        this.checkedCards(event);\n    }\n\n    mouseMove() {\n        this.currentElem.ondragstart = function() {\n            return false\n        };\n\n        document.onmousemove = (event) => {\n        if(!this.dragging) return;\n\n        const currentHeight = this.size.box.height;\n\n        this.currentElem.style.position = \"absolute\";\n        this.currentElem.style.left = event.pageX - this.size.elem.width / 2 + 'px';\n        this.currentElem.style.top = event.pageY - this.size.elem.height / 2 + 'px';\n\n        if(this.data.left <= 0)\n            this.currentElem.style.left = 0;\n        if(this.data.top <= 0)\n            this.currentElem.style.top = 0;\n        if(this.data.left + this.size.elem.width >= this.size.box.width)\n            this.currentElem.style.left = this.size.box.width - this.size.elem.width + 'px';\n        if(this.data.top + document.documentElement.scrollTop + this.size.elem.height >= this.size.box.height)\n            this.currentElem.style.top = currentHeight - this.size.elem.height + 'px';\n        }\n    }\n\n    mouseUp() {\n        this.dragging = false;\n        document.onmousemove = null;\n    }\n    }\n    function getCoords(elem) {\n        let box = elem.getBoundingClientRect();\n        return {\n        top: box.top + pageYOffset,\n        left: box.left + pageXOffset\n    };\n}\n    // const drag = new DragAndDrop(`#field`, `.m4`);\n\n    // document.addEventListener(\"mousedown\", event => drag.mouseDown(event));\n    // document.addEventListener(\"mouseup\", event => drag.mouseUp(event));","import Request from \"./request.js\"\nimport Modal from \"./modal.js\"\nimport DragAndDrop from \"./drag.js\"\n\n\n\nexport default class Visit {\n    constructor(visit) {\n        this.data = visit;\n\n        this.age = visit.age;\n        this.purposeOfVisit = visit.purposeOfVisit;\n        this.bloodPressure = visit.bloodPressure;\n        this.bodyMassIndex = visit.bodyMassIndex;\n        this.pastDiseases = visit.pastDiseases;\n        this.shortDiscriptionsOfVisit = visit.shortDiscriptionsOfVisit;\n        this.urgency = visit.urgency;\n        this.dateOfPreviousVisit = visit.dateOfPreviousVisit;\n\n    }\n\n    render (visit) {\n        this.container = document.querySelector(\".visits\")\n        this.visit = document.createElement(\"div\");\n        this.visit.classList = \"visit-card\";\n\n        this.visitIdContainer = document.createElement(\"p\");\n        this.visitIdContainer.classList = \"visit-id-container\";\n        this.visitIdContainer.innerText = `ID: ${this.data.id}`\n\n        this.fullName = document.createElement(\"p\");\n        this.fullName.classList.add(\"full-name-container\");\n        this.fullName.innerHTML = `ФИО: <span class=\"full-name\">${this.data.fullName}</span>`;\n\n        this.doctor = document.createElement(\"p\");\n        this.doctor.classList.add(\"doctor\");\n        this.doctor.innerText = `Доктор: ${this.data.doctor}`;\n\n        this.showMoreBtn = document.createElement(\"button\");\n        this.showMoreBtn.classList.add(\"show-more-btn\");\n        this.showMoreBtn.setAttribute(\"vertical-align\", \"middle\");\n        this.showMoreBtn.insertAdjacentHTML(\"afterbegin\", \"<span>Показать больше</span>\");\n\n        this.showMoreBound = this.showMore.bind(this);\n        this.showMoreBtn.addEventListener('click',this.showMoreBound);\n\n        this.visit.append(this.visitIdContainer);\n        this.visit.append(this.fullName);\n        this.visit.append(this.doctor);\n        this.visit.append(this.showMoreBtn);\n\n        this.showLessBtn = document.createElement(\"button\");\n        this.showLessBtn.classList.add(\"show-less-btn\");\n        this.showLessBtn.setAttribute(\"vertical-align\", \"middle\");\n        this.showLessBtn.insertAdjacentHTML(\"afterbegin\", \"<span>Показать меньше</span>\");\n        this.showLessBtn.classList.add(\"hidden\");\n\n        this.showLessBound = this.showLess.bind(this);\n        this.showLessBtn.addEventListener(\"click\", this.showLessBound);\n\n        this.editPanel = document.createElement(\"div\");\n        this.editPanel.classList.add('edit-panel');\n        this.editPanel.classList.add('hidden');\n\n        this.editVisitIcon = document.createElement(\"button\");\n        this.editVisitIcon.classList.add(\"edit-visit-button\");\n        this.editVisitIcon.innerHTML = \"Редактировать\"\n\n        this.enableEditModeBound = this.enableEditMode.bind(this);\n        this.editVisitIcon.addEventListener(\"click\", this.enableEditModeBound);\n\n        this.removeVisitIcon = document.createElement(\"button\");\n        this.removeVisitIcon.classList.add(\"remove-visit-button\");\n        this.removeVisitIcon.innerHTML = \"Удалить визит\"\n\n\n        this.removeVisitBound = this.removeVisit.bind(this);\n        this.removeVisitIcon.addEventListener(\"click\", this.removeVisitBound);\n\n        this.editPanel.append(this.editVisitIcon);\n        this.editPanel.append(this.removeVisitIcon);\n\n        this.visit.append(this.editPanel);\n        this.visit.append(this.showLessBtn);\n\n        this.container.append(this.visit);\n\n\n    }\n\n    static renderAllVisits(data) {\n        let visitsContainer = document.querySelector(\".visits\");\n        visitsContainer.innerHTML = \"\";\n        data.forEach(visit => {\n            switch (visit.doctor) {\n                case \"Cardiologist\":\n                    new VisitCardiologist(visit);\n                    break;\n                case \"Dentist\":\n                    new VisitDentist(visit);\n                    break;\n                case \"Therapist\":\n                    new VisitTherapist(visit);\n                    break;\n                default:\n                    new Request(\"delete\",null, visit.id);\n            }\n            const drag = new DragAndDrop(`.visits`, `.visit-card`);\n\n            document.addEventListener(\"mousedown\", event => drag.mouseDown(event));\n            document.addEventListener(\"mouseup\", event => drag.mouseUp(event));\n        });\n    }\n    showMore() {\n        this.showMoreBtn.classList.add('hidden');\n        this.showLessBtn.classList.remove(\"hidden\");\n        this.visit.querySelector(\".extra-info\").classList.remove(\"hidden\");\n        this.visit.querySelector(\".edit-panel\").classList.remove(\"hidden\");\n    }\n\n    showLess() {\n        this.showLessBtn.classList.add(\"hidden\");\n        this.showMoreBtn.classList.remove(\"hidden\");\n\n        this.visit.querySelector(\".extra-info\").classList.add(\"hidden\");\n        this.visit.querySelector(\".edit-panel\").classList.add(\"hidden\");\n    }\n\n    enableEditMode() {\n        new Modal(\"editVisit\", this, this.data.id, this.data);\n    }\n\n    updateValue(data,visit) {\n        this.data = data;\n        if (data.doctor===\"Cardiologist\") {\n            visit.visit.querySelector(\".full-name\").innerHTML = data.fullName;\n            visit.visit.querySelector(\".age\").innerHTML = data.age;\n            visit.visit.querySelector(\".purpose-of-visit\").innerHTML = data.purposeOfVisit;\n            visit.visit.querySelector(\".blood-pressure\").innerHTML = data.bloodPressure;\n            visit.visit.querySelector(\".body-mass-index\").innerHTML = data.bodyMassIndex;\n            visit.visit.querySelector(\".past-diseases\").innerHTML = data.pastIllnesses;\n            visit.visit.querySelector(\".short-description\").innerHTML = data.shortDiscriptionsOfVisit;\n        }\n        if (data.doctor===\"Dentist\") {\n            visit.visit.querySelector(\".full-name\").innerHTML = data.fullName;\n            visit.visit.querySelector(\".purpose-of-visit\").innerHTML = data.purposeOfVisit;\n            visit.visit.querySelector(\".short-description\").innerHTML = data.shortDiscriptionsOfVisit;\n            visit.visit.querySelector(\".date-of-previous-visit\").innerHTML = data.dateOfPreviousVisit;\n        }\n        if (data.doctor===\"Therapist\") {\n            visit.visit.querySelector(\".full-name\").innerHTML = data.fullName;\n            visit.visit.querySelector(\".age\").innerHTML = data.age;\n            visit.visit.querySelector(\".purpose-of-visit\").innerHTML = data.purposeOfVisit;\n            visit.visit.querySelector(\".short-description\").innerHTML = data.shortDiscriptionsOfVisit;\n        }\n    }\n\n    removeVisit() {\n        new Request(\"delete\", null, this.data.id)\n            .then((response) => {\n                return response.text();\n            })\n            .then(() => { this.destroy() })\n            .catch(error => console.error(error));\n    }\n\n    destroy() {\n        this.visit.remove();\n\n        if (this.container.children.length === 0) {\n            this.noVisitsNotice = document.createElement(\"div\");\n            this.noVisitsNotice.classList.add(\"no-visits-notice\");\n            this.noVisitsNotice.innerText = \"No items have been added yet.\";\n            this.container.append(this.noVisitsNotice);\n        }\n    }\n}\n\nexport class VisitCardiologist extends Visit {\n    constructor(visit) {\n        super(visit);\n        this.render();\n    }\n\n    render () {\n        super.render();\n        const extraInfo = document.createElement(\"div\");\n        extraInfo.classList.add('extra-info');\n        extraInfo.innerHTML = `\n        <p class=\"line-in-visit\">Возраст: <span class=\"regular-text age\">${this.age}</span></p>\n        <p class=\"line-in-visit\">Цель визита: <span class=\"regular-text purpose-of-visit\">${this.purposeOfVisit}</span></p>\n        <p class=\"line-in-visit\">Обычное давление: <span class=\"regular-text blood-pressure\">${this.bloodPressure}</span></p>\n        <p class=\"line-in-visit\">Индекс массы тела: <span class=\"regular-text body-mass-index\">${this.bodyMassIndex}</span></p>\n        <p class=\"line-in-visit\">Перенесенные заболевания сердечно-сосудистой системы: <span class=\"regular-text past-diseases\">${this.pastDiseases}</span></p>\n        <p class=\"line-in-visit\">Краткое описание визита: <span class=\"regular-text short-description\">${this.shortDiscriptionsOfVisit}</span></p>\n        <p class=\"line-in-visit\">Срочность: <span class=\"regular-text urgency\">${this.urgency}</span></p>\n        `;\n\n        extraInfo.classList.add(\"hidden\");\n        this.visit.querySelector(\".edit-panel\").before(extraInfo);\n    }\n}\n\nexport class VisitDentist extends Visit {\n    constructor(visit) {\n        super(visit);\n        this.render();\n    }\n\n    render(){\n        super.render();\n        const extraInfo = document.createElement(\"div\");\n        extraInfo.classList.add('extra-info');\n        extraInfo.innerHTML = `\n        <p class=\"line-in-visit\">Цель визита: <span class=\"regular-text purpose-of-visit\">${this.purposeOfVisit}</span></p>\n        <p class=\"line-in-visit\">Дата последнего визита: <span class=\"regular-text date-of-previous-visit\">${this.dateOfPreviousVisit}</span></p>\n        <p class=\"line-in-visit\">Краткое описание визита: <span class=\"regular-text short-description\">${this.shortDiscriptionsOfVisit}</span></p>\n        <p class=\"line-in-visit\">Срочность: <span class=\"regular-text urgency\">${this.urgency}</span></p>\n        `;\n\n        extraInfo.classList.add(\"hidden\");\n        this.visit.querySelector(\".edit-panel\").before(extraInfo);\n    }\n}\n\nexport class VisitTherapist extends Visit {\n    constructor(visit) {\n        super(visit);\n        this.render();\n    }\n\n    render(){\n        super.render();\n        const extraInfo = document.createElement(\"div\");\n        extraInfo.classList.add('extra-info');\n        extraInfo.innerHTML = `\n        <p class=\"line-in-visit\">Врзраст: <span class=\"regular-text age\">${this.age}</span></p>\n        <p class=\"line-in-visit\">Цель визита: <span class=\"regular-text purpose-of-visit\">${this.purposeOfVisit}</span></p>\n        <p class=\"line-in-visit\">Краткое описание визита: <span class=\"regular-text short-description\">${this.shortDiscriptionsOfVisit}</span></p>\n        <p class=\"line-in-visit\">Срочность: <span class=\"regular-text urgency\">${this.urgency}</span></p>\n        `;\n\n        extraInfo.classList.add(\"hidden\");\n        this.visit.querySelector(\".edit-panel\").before(extraInfo);\n    }\n}\n","import Visit from \"./visit.js\";\nimport Request from \"./request.js\";\n\nexport default class Filter {\n    constructor() {\n        this.searchContainer = document.querySelector(\".filter-container\");\n        this.getVisitsData();\n        this.createSearchInput();\n        this.createUrgencySelect();\n\n    }\n    static filterHide(){\n        let filter = document.querySelector('.filter');\n        filter.classList.add('hidden');\n    }\n    static filterShow(){\n        let filter = document.querySelector('.filter');\n        filter.classList.remove('hidden');\n        new Filter();\n    }\n    createSearchInput() {\n        this.input = document.createElement('input');\n        this.input.classList.add('filter-live-search');\n        this.input.type = 'text';\n        this.input.placeholder = 'id, ФИО, доктор';\n        this.searchContainer.append(this.input);\n    }\n\n    createUrgencySelect() {\n        const urgency = ['All', 'Regular', 'Priority', 'Urgent'];\n        this.urgencySelect = document.createElement('select');\n        const urgencyTitle = document.createElement('span');\n        urgencyTitle.classList.add('filter_urgency-title');\n        urgencyTitle.innerText = 'Выберите срочность посещения:';\n        this.urgencySelect.classList.add('filter-select-urgency');\n        urgency.forEach(el => {\n            this.selectOption = document.createElement('option');\n            this.selectOption.text = el;\n            this.urgencySelect.options.add(this.selectOption);\n        });\n        this.searchContainer.append(urgencyTitle);\n        this.searchContainer.append(this.urgencySelect);\n\n    }\n\n    getVisitsData() {\n        new Promise((resolve, reject) => {\n            resolve(new Request(\"getAllVisits\"))\n        })\n            .then(data => {\n                this.filter(data);\n                this.filterByUrgency(data);\n            })\n    }\n\n    filter(allVisits) {\n        this.input.addEventListener('input', function () {\n            let visitsArray = [];\n            let visitsContainer = document.querySelector(\".visits\");\n            visitsContainer.innerHTML = \"No data found\";\n            let inputedValue = this.value.trim();\n            let inputedData = new RegExp(inputedValue, 'i');\n            if (inputedValue !== '') {\n                allVisits.forEach((el) => {\n                    let inputedId = el.id.search(inputedData);\n                    let inputedName = el.fullName.search(inputedData);\n                    let inputedDoctor = el.doctor.search(inputedData);\n                    if (inputedId !== -1 || inputedName !== -1 || inputedDoctor !== -1) {\n                        visitsArray.push(el);\n                    }\n                });\n                Visit.renderAllVisits(visitsArray);\n            } else {\n                Visit.renderAllVisits(allVisits);\n            }\n        });\n    }\n\n    filterByUrgency(allVisits) {\n        this.urgencySelect.addEventListener('change', (e) => {\n            this.input.value = '';\n            e.preventDefault();\n            e.stopPropagation();\n            let filteredUrgencyArray = [];\n            let visitsContainer = document.querySelector(\".visits\");\n            visitsContainer.innerHTML = \"\";\n            if (e.currentTarget.value === 'All') {\n                Visit.renderAllVisits(allVisits);\n                this.filter(allVisits);\n            } else {\n                allVisits.forEach(el => {\n                    if (el.urgency === e.currentTarget.value) {\n                        filteredUrgencyArray.push(el);\n                    }\n                });\n                this.filter(filteredUrgencyArray);\n                Visit.renderAllVisits(filteredUrgencyArray);\n            }\n        });\n    }\n\n}\n","import {Button, Input, Select, Textarea, InputFieldTitle} from \"./classes.js\";\nimport Request from \"./request.js\"\nimport Visit, {VisitCardiologist, VisitDentist, VisitTherapist} from \"./visit.js\"\nimport Filter from \"./filter\"\n\nexport default class Form {\n    constructor(typeOfForm, visit, id, data) {\n        this.visit = visit;\n        this.id = id;\n        this.data = data;\n\n        this.e = document.createElement(\"form\");\n\n        if (typeOfForm === \"login\") {\n            this.e.classList = \"login-form\";\n\n            this.mailInput = new Input(\"email\");\n            this.e.append(this.mailInput);\n\n            this.passwordInput = new Input(\"password\");\n            this.e.append(this.passwordInput);\n \n            this.loginButton = new Button(\"login\");\n            this.e.append(this.loginButton);  \n\n            this.errorNote = document.createElement(\"p\");\n            this.errorNote.className = \"error-note\";\n            this.errorNote.innerText = \"Неправильный e-mail или пароль\";\n            this.errorNote.style.visibility = \"hidden\";\n            this.errorNote.style.opacity = \"0\";\n            this.e.append(this.errorNote);\n\n\n            this.e.addEventListener(\"submit\", function(e) {\n                e.preventDefault();\n\n                let formData = new FormData(this);\n                formData = Object.fromEntries(formData);\n\n                new Request (\"login\", formData, null)\n\n                    .then((token) => {\n                        console.log(token);\n                    \n                            let signIn = document.querySelector(\".sign-in-btn\");\n                            signIn.style.display = \"none\";\n                            let createVisit = document.querySelector(\".create-visit-btn\");\n                            createVisit.style.display = \"block\";\n                            localStorage.setItem(\"token\", token);\n                            let modal = document.querySelector(\".modal-dialog\");\n                            modal.remove();\n\n                            new Promise((resolve, reject) => {\n                                resolve(new Request(\"getAllVisits\"));\n                            }).then((data) => {\n                                if (data.length !== 0) {\n                                    Visit.renderAllVisits(data);\n                                }\n                            })\n                            Filter.filterShow();\n                    })\n                    .catch(error => console.error(error));\n                    this.reset();\n            })\n            return this.e;\n        }\n        if (typeOfForm === \"createVisit\") {\n            this.e.classList = \"createVisit-form\";\n            this.select = new Select(\"doctor\")\n            this.e.append(this.select);\n\n            return this.e;\n        }\n        if (typeOfForm === \"editVisit\") {\n            this.e.classList = \"editVisit-form\";\n\n            if (this.data.doctor === \"Cardiologist\") {\n                this.doctor = new InputFieldTitle(\"Doctor: \");\n                this.doctor.insertAdjacentHTML(\"beforeend\", `${this.data.doctor}`);\n                this.urgency = new InputFieldTitle(\"Urgency: \");\n                this.urgency.insertAdjacentHTML(\"beforeend\", `${this.data.urgency}`);\n\n                this.fullName = new Input(\"fullName\");\n                this.fullName.value = data.fullName;\n                this.age = new Input(\"age\");\n                this.age.value = data.age;\n                this.inputPurpose = new Input(\"purposeOfVisit\");\n                this.inputPurpose.value = data.purposeOfVisit;\n                this.bloodPressure = new Input('bloodPressure');\n                this.bloodPressure.value = data.bloodPressure;\n                this.bodyMassIndex = new Input(\"bodyMassIndex\");\n                this.bodyMassIndex.value = data.bodyMassIndex;\n                this.pastIllnesses = new Textarea(\"pastIllnesses\");\n                this.pastIllnesses.value = data.pastIllnesses;\n\n                this.shortDescription = new Textarea(\"shortDescription\");\n                this.shortDescription.value = data.shortDescription;\n\n                this.editVisitModalBtn = new Button(\"editVisitModalBtn\");\n\n                this.onEditVisitClickBound = this.onEditVisitClick.bind(this);\n                this.e.addEventListener(\"submit\", this.onEditVisitClickBound);\n\n                this.e.append(this.doctor);\n                this.e.append(this.urgency);\n                this.e.append(new InputFieldTitle(\"Full name:\"));\n                this.e.append(this.fullName);\n                this.e.append(new InputFieldTitle(\"Age:\"));\n                this.e.append(this.age);\n                this.e.append(new InputFieldTitle(\"Purpose of visit:\"));\n                this.e.append(this.inputPurpose);\n                this.e.append(new InputFieldTitle(\"Usual blood pressure:\"));\n                this.e.append(this.bloodPressure);\n                this.e.append(new InputFieldTitle(\"Body mass index:\"));\n                this.e.append(this.bodyMassIndex);\n                this.e.append(new InputFieldTitle(\"Past illnesses of cardiovascular system:\"));\n                this.e.append(this.pastIllnesses);\n                this.e.append(new InputFieldTitle(\"Short description:\"));\n                this.e.append(this.shortDescription);\n                this.e.append(this.editVisitModalBtn);\n\n                return this.e;\n            }\n\n            if (this.data.doctor === \"Dentist\") {\n                this.doctor = new InputFieldTitle(\"Doctor: \");\n                this.doctor.insertAdjacentHTML(\"beforeend\", `${this.data.doctor}`);\n                this.urgency = new InputFieldTitle(\"Urgency: \");\n                this.urgency.insertAdjacentHTML(\"beforeend\", `${this.data.urgency}`);\n\n                this.fullName = new Input(\"fullName\");\n                this.fullName.value = data.fullName;\n                this.inputPurpose = new Input(\"purposeOfVisit\");\n                this.inputPurpose.value = data.purposeOfVisit;\n                this.inputDateOfPrevVisit = new Input(\"dateOfPreviousVisit\");\n                this.inputDateOfPrevVisit.value = data.dateOfPreviousVisit;\n                this.shortDescription = new Textarea(\"shortDescription\");\n                this.shortDescription.value = data.shortDescription;\n\n                this.editVisitModalBtn = new Button(\"editVisitModalBtn\");\n\n                this.onEditVisitClickBound = this.onEditVisitClick.bind(this);\n                this.e.addEventListener(\"submit\", this.onEditVisitClickBound);\n\n                this.e.append(this.doctor);\n                this.e.append(this.urgency);\n                this.e.append(new InputFieldTitle(\"Full name:\"));\n                this.e.append(this.fullName);\n                this.e.append(new InputFieldTitle(\"Purpose of visit:\"));\n                this.e.append(this.inputPurpose);\n                this.e.append(new InputFieldTitle(\"Date of previous visit:\"));\n                this.e.append(this.inputDateOfPrevVisit);\n                this.e.append(new InputFieldTitle(\"Short description:\"));\n                this.e.append(this.shortDescription);\n                this.e.append(this.editVisitModalBtn);\n            }\n\n            if (this.data.doctor === \"Therapist\") {\n                this.doctor = new InputFieldTitle(\"Doctor: \");\n                this.doctor.insertAdjacentHTML(\"beforeend\", `${this.data.doctor}`);\n                this.urgency = new InputFieldTitle(\"Urgency: \");\n                this.urgency.insertAdjacentHTML(\"beforeend\", `${this.data.urgency}`);\n\n                this.fullName = new Input(\"fullName\");\n                this.fullName.value = data.fullName;\n                this.age = new Input(\"age\");\n                this.age.value = data.age;\n                this.inputPurpose = new Input(\"purposeOfVisit\");\n                this.inputPurpose.value = data.purposeOfVisit;\n                this.shortDescription = new Textarea(\"shortDescription\");\n                this.shortDescription.value = data.shortDescription;\n\n                this.editVisitModalBtn = new Button(\"editVisitModalBtn\");\n\n                this.onEditVisitClickBound = this.onEditVisitClick.bind(this);\n                this.e.addEventListener(\"submit\", this._onEditVisitClickBound);\n\n                this.e.append(this.doctor);\n                this.e.append(this.urgency);\n                this.e.append(new InputFieldTitle(\"Full name:\"));\n                this.e.append(this.fullName);\n                this.e.append(new InputFieldTitle(\"Age:\"));\n                this.e.append(this.age);\n                this.e.append(new InputFieldTitle(\"Purpose of visit:\"));\n                this.e.append(this.inputPurpose);\n                this.e.append(new InputFieldTitle(\"Short description:\"));\n                this.e.append(this.shortDescription);\n                this.e.append(this.editVisitModalBtn);\n            }\n            return this.e;\n        }\n\n        if (typeOfForm === \"doctorCardiologist\") {\n            this.e = document.querySelector(\".createVisit-form\");\n\n            this.fullName = new Input(\"fullName\");\n            this.age = new Input(\"age\");\n            this.purposeOfVisit = new Input(\"purposeOfVisit\");\n            this.bloodPressure = new Input(\"bloodPressure\");\n            this.bodyMassIndex = new Input(\"bodyMassIndex\");\n            this.pastDiseases = new Textarea(\"pastDiseases\");\n            this.urgency = new Select(\"urgency\");\n            this.shortDiscriptionsOfVisit = new Textarea(\"shortDiscriptionsOfVisit\");\n            this.createVisitModalBtn = new Button(\"createVisitModalBtn\");\n\n            this.CreateVisitClickBound = this.onCreateVisit.bind(this);\n            this.e.addEventListener(\"submit\", this.CreateVisitClickBound);\n\n\n            this.e.append(this.fullName);\n            this.e.append(this.age);\n            this.e.append(this.purposeOfVisit);\n            this.e.append(this.bloodPressure);\n            this.e.append(this.bodyMassIndex);\n            this.e.append(this.pastDiseases);\n            this.e.append(this.urgency);\n            this.e.append(this.shortDiscriptionsOfVisit);\n            this.e.append(this.createVisitModalBtn);\n        }\n\n        if (typeOfForm === \"doctorDentist\") {\n            this.e = document.querySelector(\".createVisit-form\");\n\n            this.fullName = new Input(\"fullName\");\n            this.purposeOfVisit = new Input(\"purposeOfVisit\");\n            this.urgency = new Select(\"urgency\");\n            this.dateOfPreviousVisit = new Input(\"dateOfPreviousVisit\");\n            this.shortDiscriptionsOfVisit = new Textarea(\"shortDiscriptionsOfVisit\");\n            this.createVisitModalBtn = new Button(\"createVisitModalBtn\");\n\n            this.CreateVisitClickBound = this.onCreateVisit.bind(this);\n            this.e.addEventListener('submit', this.CreateVisitClickBound);\n\n            this.e.append(this.fullName);\n            this.e.append(this.purposeOfVisit);\n            this.e.append(this.urgency);\n            this.e.append(this.dateOfPreviousVisit);\n            this.e.append(this.shortDiscriptionsOfVisit);\n            this.e.append(this.createVisitModalBtn);\n        }\n\n        if (typeOfForm === \"doctorTherapist\") {\n            this.e = document.querySelector(\".createVisit-form\");\n\n            this.fullName = new Input(\"fullName\");\n            this.age = new Input(\"age\");\n            this.purposeOfVisit = new Input(\"purposeOfVisit\");\n            this.urgency = new Select(\"urgency\");\n            this.shortDiscriptionsOfVisit = new Textarea(\"shortDiscriptionsOfVisit\");\n            this.createVisitModalBtn = new Button(\"createVisitModalBtn\");\n\n            this.CreateVisitClickBound = this.onCreateVisit.bind(this);\n            this.e.addEventListener(\"submit\", this.CreateVisitClickBound);\n\n            this.e.append(this.fullName);\n            this.e.append(this.age);\n            this.e.append(this.purposeOfVisit);\n            this.e.append(this.urgency);\n            this.e.append(this.shortDiscriptionsOfVisit);\n            this.e.append(this.createVisitModalBtn);\n        }\n    }\n\n    onCreateVisit(e) {\n        e.preventDefault();\n\n        let selectedDoctor = document.querySelector(\".doctor-select\").value;\n        let selectedUrgency = document.querySelector(\".urgency-select\").value;\n\n        let formData = new FormData(this.e);\n        formData = Object.fromEntries(formData);\n        formData[\"doctor\"] = selectedDoctor;\n        formData[\"urgency\"] = selectedUrgency;\n\n        new Request(\"post\", formData, null)\n        .then((data) => {\n         console.log(data);\n            let modal = document.querySelector(\".modal-dialog\");\n            modal.remove();\n            let noVisitsNotice = document.querySelector(\".no-visits-notice\");\n            if (noVisitsNotice) {\n                noVisitsNotice.remove()\n            }\n\n            switch (data.doctor) {\n                case \"Cardiologist\":\n                    new VisitCardiologist(data);\n                    break;\n                case \"Dentist\":\n                    new VisitDentist(data);\n                    break;\n                case \"Therapist\":\n                    new VisitTherapist(data);\n                    break;\n            }\n        })\n        .catch(error => console.error(error));\n\n    this.e.reset();\n    }\n\n    onEditVisitClick(e) {\n        e.preventDefault();\n\n        let formData = new FormData(this.e);\n        formData = Object.fromEntries(formData);\n        formData[\"doctor\"] = this.data.doctor;\n        formData[\"urgency\"] = this.data.urgency;\n\n        new Request(\"put\", formData, this.id)\n            .then((response) => {\n                return response.json();\n            })\n            .then((data) => {\n                this.visit.updateValue(data, this.visit);\n            })\n            .catch(error => console.error(error));\n    }\n} \n\n\n","import Form from \"./form.js\";\nimport {Button, Input} from \"./classes.js\";\n\nexport default class Modal {\n    constructor(typeOfModal, visit, data, id) {\n        this.modalContainer = document.createElement(\"div\");\n        this.modalContainer.classList.add(\"modal-dialog\");\n        this.modalContainer.tabinde = \"-1\";\n\n        this.modalContent = document.createElement(\"div\");\n        this.modalContent.classList.add(\"modal-content\");\n        this.modalContainer.append(this.modalContent);\n\n        this.modalHeader = document.createElement(\"div\");\n        this.modalHeader.classList.add(\"modal-header\");\n        this.modalContent.append(this.modalHeader);\n\n        this.modalButtonClose = document.createElement(\"span\");\n        this.modalButtonClose.classList.add(\"btn-close\");\n        this.modalHeader.append(this.modalButtonClose);\n\n        this.modalBody = document.createElement(\"div\");\n        this.modalBody.classList.add(\"modal-body\");\n        this.modalContent.append(this.modalBody);\n\n        this.modalButtonClose = document.createElement(\"span\");\n        this.modalButtonClose.classList.add(\"btn-close\");\n        this.modalHeader.append(this.modalButtonClose);\n\n\n        this.removeModalBound = this.removeModal.bind(this);\n        this.modalButtonClose.addEventListener(\"click\", this.removeModalBound);\n       \n\n        // this.onBackgroundClickBound = this.onBackgroundClick.bind(this);\n        // this.modalContainer.addEventListener(\"mousedown\", this.onBackgroundClickBound);\n\n        if (typeOfModal===\"login\") {\n            this.titleHeader = document.createElement(\"h5\");\n            this.modalHeader.append(this.titleHeader)\n            this.titleHeader.innerHTML = \"Введите e-mail и пароль\";\n\n            this.loginForm = new Form(\"login\");\n            this.modalBody.append(this.loginForm);\n        }\n\n        if (typeOfModal === \"createVisit\") {\n            this.titleHeader = document.createElement(\"h5\");\n            this.modalHeader.append(this.titleHeader)\n            this.titleHeader.innerHTML = \"Заполните данные о посещении\";\n\n            this.createVisitForm = new Form(\"createVisit\");\n            this.modalBody.append(this.createVisitForm);\n        }\n\n        if (typeOfModal === \"editVisit\") {\n            this.titleHeader = document.createElement(\"h5\");\n            this.modalHeader.append(this.titleHeader)\n            this.titleHeader.innerHTML = \"Измените информацию о визите\";\n\n            this.editVisitForm = new Form(\"editVisit\", visit, id, data);\n            this.modalBody.append(this.editVisitForm);\n        }\n\n\n        document.body.prepend(this.modalContainer);\n        this.modalContainer.classList.add(\"active\")\n    }\n    // onBackgroundClick(evt) {\n    //     let clickedItem = evt.target;\n    //     if (clickedItem === this.modalContent) {\n    //         this.removeModal();\n    //         this.modalContainer.removeEventListener(\"click\",this.onBackgroundClickBound);\n    //     }\n\n    // }\n    removeModal() {\n        this.modalContainer.remove();\n        this.modalButtonClose.removeEventListener(\"click\", this.removeModalBound);\n    }\n}","import Modal from \"./modal.js\";\nimport Request from \"./request.js\"\nimport Visit from \"./visit.js\";\nimport Filter from \"./filter.js\";\n\nfunction createContent() {\n    const header = document.createElement(\"header\");\n    header.className = \"header\"\n    document.body.prepend(header);\n\n    const a = document.createElement(\"a\");\n    a.className = \"header-logo-link\";\n    a.innerHTML = \"CARDS\";\n    a.href = \"#\"\n    header.append(a);\n\n    const signIn = document.createElement(\"button\");\n    signIn.className = \"sign-in-btn btn btn-primary\";\n    signIn.innerHTML = \"Войти\";\n    header.append(signIn);\n\n    const createVisit = document.createElement(\"button\");\n    createVisit.className = \"create-visit-btn btn btn-primary\"\n    createVisit.style.display = \"none\";\n    createVisit.innerHTML = \"Создать визит\";\n    header.append(createVisit);\n\n    const main = document.createElement(\"main\");\n    header.after(main);\n\n    const mainContainer = document.createElement(\"div\");\n    mainContainer.classList = \"main-container\"\n    main.append(mainContainer);\n\n    const sectionFilter = document.createElement(\"section\");\n    sectionFilter.className = \"filter\";\n    mainContainer.append(sectionFilter);\n\n    const divFilter = document.createElement(\"div\");\n    divFilter.className = \"filter-container\";\n    sectionFilter.append(divFilter);\n\n    const sectionVisits = document.createElement(\"section\");\n    sectionVisits.className = \"visits\";\n    mainContainer.append(sectionVisits);\n\n    const divVisits = document.createElement(\"div\");\n    divVisits.className = \"no-visits-notice\";\n    divVisits.innerHTML = \"No items have been added yet.\";\n    sectionVisits.append(divVisits)  \n}\n\nwindow.onload = function () {\n    createContent();\n    Filter.filterHide();\n    let token = localStorage.getItem(\"token\");\n    let signIn = document.querySelector(\".sign-in-btn\");\n\n    signIn.addEventListener(\"click\", () => new Modal(\"login\"));\n\n    let createVisit = document.querySelector(\".create-visit-btn\");\n    createVisit.addEventListener(\"click\", () => new Modal(\"createVisit\"));\n\n    if (token) {\n        signIn.style.display = \"none\";\n        createVisit.style.display = \"block\";\n\n        new Promise((resolve, reject) => {\n            resolve(new Request(\"getAllVisits\"));\n        })\n            .then((data) => {\n                console.log(data);\n                if (data.length !== 0) {\n                    Visit.renderAllVisits(data);\n                    Filter.filterShow();\n                }\n            })\n            .catch(error => console.error(error));\n\n    }  \n};\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}