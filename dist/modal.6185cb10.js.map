{"version":3,"sources":["src/js/classes.js","src/js/request.js","src/js/form.js","src/js/modal.js"],"names":["Textarea","typeOfTextarea","e","document","createElement","classList","setAttribute","Button","typeOfButton","innerText","add","Input","typeOfInput","inputLabel","append","Request","typeOfRequest","data","id","login","fetch","method","headers","body","JSON","stringify","email","querySelector","value","password","Form","typeOfForm","visit","mailInput","passwordInput","loginButton","errorNote","className","style","visibility","opacity","addEventListener","preventDefault","formData","FormData","Object","fromEntries","then","response","json","status","sessionStorage","setItem","token","catch","error","console","reset","Modal","typeOfModal","modalContainer","modalBody","modalContent","loginForm","prepend"],"mappings":";;;;;;;AEAA,ACAA;;ADCA,IFDaA,WACT,kBAAYC,cAAZ,EAA4B;AAAA;;AACxB,OAAKC,CAAL,GAASC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAT;IGDasD,AFDA3C,QEEjB,eAAY4C,WAAZ,EAAyB3B,KAAzB,EAAgCf,IAAhC,EAAsCC,EAAtC,EAA0C;AHCtC,AGDsC,AFD1C,MDEQjB,aCFIe,CDEU,KAAK,OCF3B,EAA2BC,IAA3B,EAAiCC,EAAjC,EAAqC,ODEjC,EAAmD;AAC/C,ACH6B,ICCpBY,KFEJ5B,CAAL,CAAOG,AEDf,SFCQ,GAAmB,EEDf0B,QFCJ,EEDR,EAAwBC,KAAxB,EAA+Bd,EAA/B,EAAmCD,IAAnC,EAAyC;AFEjC,AEFiC,ACArC,OAAK2C,EHEI1D,CAAL,CAAOI,UGFX,EHEI,CAAoB,AGFFH,MHElB,EAA4B,AGFF,CAACC,aAAT,CAAuB,KAAvB,CAAtB,KHEI;AACA,AGFJ,AFFA,OEEKwD,CFFD5C,CDIKd,CAAL,CAAOI,UGFX,AFFiB,CEEGD,CHEhB,CAAoB,ECJF,KEEtB,CAA8BK,CFF9B,EEEA,AFF+B,CEEG,CHE9B,EAAmC,CGFvC,wBHEI;AACA,AEHJ,ACEA,AFHI,OCCCsB,ACEA6B,IHCM,CEHX,CDDW,ECCE7B,CFGG9B,AGDhB,CHCI,CCJYiB,CEGChB,CDFjB,GDDW,CAAWc,GEGG,CAACb,AFHf,CAAP,YEGa,CAAuB,KAAvB,CAAjB;AHEC,AEHD,ACEA,AFHC,OCCIc,ACEA2C,EDFL,GAAU3C,EAAV,ECEA,CAAeb,SAAf,CAAyBK,GAAzB,CAA6B,KAA7B;ADDA,ACEA,AFHH,OCCQO,ACEA2C,IDFL,GAAY3C,IAAZ,GCEA,CAAoBH,MAApB,CAA2B,KAAK+C,SAAhC;AHCA,AEDA,ACEA,MHDI5D,CEDCC,ACEA4D,CDFL,GAAS3D,QAAQ,ACEjB,CHDkB,AEDAC,ECEED,GHDG,KGCK,CAACC,EDFpB,CAAuB,KFChC,CEDS,CFC8B,AEDvC,GCEoB,CAAuB,KAAvB,CAApB;AHAI,AGCJ,OAAK0D,EHDI5D,CAAL,CAAOG,QGCX,CHDI,AGCcA,GHDK,MGCvB,CAA4BK,GHDxB,AGCJ,CAAgC,KAAhC;AHAI,AEDJ,ACEA,MDFIqB,CCEC8B,EHDI3D,CAAL,CAAOI,KEDG,ACEd,CAAeQ,IDFI,EFCf,AGCJ,CHDwB,AGCF,IDFtB,CCE2BgD,CHDvB,AEDwB,EFCI,SGChC,KHDI;AACA,AEDA,SFCK5D,AEDAA,CFCL,AEDA,CFCOI,AEDAD,ADLf,SCKQ,GFCA,AEDmB,CFCC,ECNtBY,IAAN,EAAY,GCKJ,EFCA,EAAmC,sDAAnC;AACA,AEAA,ACCJ,AFPA,MEOI0C,GHDKzD,AEAA+B,CFAL,CAAO3B,ECNJc,IEOQ,CDDX,ADNQ,CAAC,ECMQ,CCCH,CHDd,CAAoB,CEACT,ICCzB,EAA2B,GHDvB,EAAgC,GEAf,CAAU,MFA3B,CEAiB,CAAjB,mBDNQ,EAAmD;ADO3D,AEAA,ACCA,AFPAU,QAAAA,CCMKnB,ACCA6D,CDDL,CFAO,AEAAjD,GDND,EDMMZ,ACNJ,CDMR,AEAA,CAAc,ACCd,GAAiB,CFR0C,CCOxC+B,ECCEH,ODDrB,MCCiB,CAAS,OAAT,CAAjB;AHAH,AECG,ACAA,AFPAR,QAAAA,CCOKY,ACAA4B,MFPE,EAAE,IEOT,CDAA,ACAkBhD,GDAG,GCArB,CDAyBH,ACAA,KAAKoD,SDAT,ACArB,CDA+B,UAAV,CAArB;AFAP,AECO,ACAH,AFPO,SCOC7D,CAAL,CAAOY,MAAP,CAAc,KAAKoB,GDPC,UCOpB;AAEA,ADVS,SCUJC,ADZsD,WCY3D,GAAmB,IAAI5B,eAAJ,CAAW,OAAX,CAAnB;AACA,ACFJJ,AFNIoB,EEMJpB,MFNIoB,CCQKrB,CAAL,ACFI,CDEGY,ACFFS,CFND,EAAEC,CEMV,CAAcwC,CDEV,CAAc,ADRJ,CAACvC,ICQQU,ACFvB,CAAsB,IFNZ,CEMiByB,AFNF,KCQrB,SCFJ;ADII,ACHJ,AFNQlC,OEMHkC,EDGIxB,CDTDV,KAAK,EAAEvB,CCSX,GAAiBA,ACHrB,CAAoBE,GFNG,CAACsB,GCSK,CAACvB,CCH9B,CAA8BM,GAA9B,CAAkC,GFNnB,CAAuB,GCSjB,CAAuB,ACH5C,GDGqB,CAAjB,ADTW,EAAiCkB,KADvB;ACWrB,ACHP,AFNWC,IDKHtB,KEII6B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","file":"modal.6185cb10.js","sourceRoot":"..","sourcesContent":["export class Textarea {\n    constructor(typeOfTextarea) {\n        this.e = document.createElement(\"textarea\");\n        if (typeOfTextarea === \"shortDiscriptionsOfVisit\") {\n            this.e.classList = \"textarea\";\n            this.e.setAttribute(\"name\", \"shortDiscriptionsOfVisit\");\n            this.e.setAttribute(\"placeholder\", \"Краткое описание визита\");\n            return this.e;\n        }\n        if (typeOfTextarea === \"pastDiseases\") {\n            this.e.classList = \"textarea\";\n            this.e.setAttribute(\"name\", \"pastDiseases\");\n            this.e.setAttribute(\"placeholder\", \"Перенесенные заболевания сердечно-сосудистой системы\");\n            this.e.setAttribute(\"required\", \"required\");\n            return this.e;\n        }\n    }\n}\n\nexport class Button {\n    constructor(typeOfButton) {\n        this.e = document.createElement(\"button\");\n\n        if (typeOfButton === \"login\") {\n            this.e.classList = \"login-btn\";\n            this.e.setAttribute(\"type\", \"submit\");\n            this.e.innerText = \"Войти\";\n            \n            return this.e;\n        }\n        if (typeOfButton === \"createVisitModalBtn\") {\n\n            this.e.classList.add = \"create-visit-modal-btn\";\n            this.e.setAttribute(\"type\", \"submit\");\n            this.e.innerText = \"Создать\";\n            \n            return this.e;\n        }\n\n        if (typeOfButton === \"editVisitModalBtn\") {\n\n            this.e.classList = \"edit-visit-modal-btn\";\n            this.e.setAttribute(\"type\", \"submit\");\n            this.e.innerText = \"Редактировать\";\n            \n            return this.e;\n        }\n\n    }\n}\n\nexport  class Input {\n    constructor(typeOfInput) {\n        this.e = document.createElement('input');\n        if (typeOfInput === \"email\") {\n            this.e.setAttribute('type', 'text');\n            this.e.setAttribute('name', 'email');\n            this.e.setAttribute('id', 'email');\n            this.e.classList = 'email-input';\n            this.e.setAttribute(\"required\", \"required\");\n            this.inputLabel = document.createElement(\"label\");\n            this.inputLabel.classList = \"input-label\";\n            this.inputLabel.innerText = \"E-mail\";\n            this.inputLabel.append(this.e);\n            return this.inputLabel;\n        }\n\n        if (typeOfInput === \"password\") {\n            this.e.setAttribute('type', 'password');\n            this.e.setAttribute('name', 'password');\n            this.e.setAttribute('id', 'password');\n            this.e.classList.add('password-input');\n            this.e.setAttribute(\"required\", \"required\");\n            this.inputLabel = document.createElement(\"label\");\n            this.inputLabel.classList.add(\"input-label\");\n            this.inputLabel.innerText = \"Password\";\n            this.inputLabel.append(this.e);\n            return this.inputLabel;\n        }\n    }\n}\n","export default class Request {\n    constructor(typeOfRequest, data, id) {\n        if (typeOfRequest === \"login\") {\n            return this.login(data);\n        }\n    }\n    login(data) {\n        return fetch('https://ajax.test-danit.com/api/v2/cards/login', {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json; charset=utf-8\"\n            },\n            body: JSON.stringify({\n                email: document.querySelector(\"#email\").value,\n                password: document.querySelector(\"#password\").value,\n              })\n        });\n    }\n}","import {Button, Input} from \"./classes.js\";\nimport Request from \"./request.js\"\nexport default class Form {\n    constructor(typeOfForm, visit, id, data) {\n        this.visit = visit;\n        this.id = id;\n        this.data = data;\n\n        this.e = document.createElement(\"form\");\n\n        if (typeOfForm === \"login\") {\n            this.e.classList = \"login-form\";\n\n            this.mailInput = new Input(\"email\");\n            this.e.append(this.mailInput);\n\n            this.passwordInput = new Input(\"password\");\n            this.e.append(this.passwordInput);\n\n            this.loginButton = new Button(\"login\");\n            this.e.append(this.loginButton);\n\n            this.errorNote = document.createElement(\"p\");\n            this.errorNote.className = \"error-note\";\n            this.errorNote.innerText = \"Wrong e-mail or password.\";\n            this.errorNote.style.visibility = 'hidden';\n            this.errorNote.style.opacity = \"0\";\n            this.e.append(this.errorNote);\n\n\n            this.e.addEventListener(\"submit\", function(e) {\n                e.preventDefault();\n\n                let formData = new FormData(this);\n                formData = Object.fromEntries(formData);\n\n                new Request (\"login\", formData, null)\n                    .then((response) => {\n                        return response.json();\n                    })\n                    .then((data) => {\n                        if (data.status === \"Success\") {\n                            sessionStorage.setItem(\"token\", data.token);\n                        } else if (data.status === \"Error\") {\n                            let errorNote = document.querySelector(\".error-note\");\n                            errorNote.style.visibility = 'visible';\n                            errorNote.style.opacity = \"1\";\n                        }\n                        return data;\n                    }) \n                    .catch(error => console.error(error));\n                    this.reset();\n            })\n            return this.e;\n        }\n    }  \n}\n\n","import Form from \"./form.js\";\nexport default class Modal {\n    constructor(typeOfModal, visit, data, id) {\n        this.modalContainer = document.createElement(\"div\");\n        this.modalContainer.classList.add(\"fv\");\n\n        this.modalBody = document.createElement(\"div\");\n        this.modalBody.classList.add(\"fev\");\n        this.modalContainer.append(this.modalBody);\n\n        this.modalContent = document.createElement(\"div\");\n        this.modalContent.classList.add(\"ftr\");\n        this.modalBody.append(this.modalContent);\n\n        if (typeOfModal===\"login\") {\n            this.loginForm = new Form(\"login\");\n            this.modalContent.append(this.loginForm);\n        }\n        document.body.prepend(this.modalContainer);\n        this.modalContainer.classList.add(\"active\")\n    }\n}"]}